{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nikhil/dev-enterprises/lib/firebase/config.ts"],"sourcesContent":["import { initializeApp, getApps, FirebaseApp } from 'firebase/app';\r\nimport { getFirestore, Firestore } from 'firebase/firestore';\r\nimport { getStorage, FirebaseStorage } from 'firebase/storage';\r\nimport { getAnalytics, Analytics, isSupported } from 'firebase/analytics';\r\nimport { getAuth, Auth } from 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY || \"AIzaSyCWHhCAiLXes2hdhDlHRiZR_UX3oLu7MT0\",\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN || \"dev-tech-enterprise.firebaseapp.com\",\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || \"dev-tech-enterprise\",\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET || \"dev-tech-enterprise.firebasestorage.app\",\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID || \"494367292674\",\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID || \"1:494367292674:web:4188fa9e9eca01b080161b\",\r\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID || \"G-LDKNR9EG9F\",\r\n};\r\n\r\n// Initialize Firebase\r\nlet app: FirebaseApp;\r\nif (!getApps().length) {\r\n  app = initializeApp(firebaseConfig);\r\n} else {\r\n  app = getApps()[0];\r\n}\r\n\r\n// Initialize Firestore\r\nexport const db: Firestore = getFirestore(app);\r\n\r\n// Initialize Storage\r\nexport const storage: FirebaseStorage = getStorage(app);\r\n\r\n// Initialize Auth\r\nexport const auth: Auth = getAuth(app);\r\n\r\n// Initialize Analytics (only in browser/client-side)\r\nexport const getAnalyticsInstance = async (): Promise<Analytics | null> => {\r\n  if (typeof window === 'undefined') {\r\n    return null;\r\n  }\r\n  \r\n  try {\r\n    const supported = await isSupported();\r\n    if (supported) {\r\n      return getAnalytics(app);\r\n    }\r\n    return null;\r\n  } catch (error) {\r\n    console.error('Analytics initialization error:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default app;\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ,+EAA4C;IACpD,YAAY,2EAAgD;IAC5D,WAAW,2DAA+C;IAC1D,eAAe,+EAAmD;IAClE,mBAAmB,oDAAwD;IAC3E,OAAO,iFAA2C;IAClD,eAAe,oDAAmD;AACpE;AAEA,sBAAsB;AACtB,IAAI;AACJ,IAAI,CAAC,IAAA,iMAAO,IAAG,MAAM,EAAE;IACrB,MAAM,IAAA,uMAAa,EAAC;AACtB,OAAO;IACL,MAAM,IAAA,iMAAO,GAAE,CAAC,EAAE;AACpB;AAGO,MAAM,KAAgB,IAAA,uMAAY,EAAC;AAGnC,MAAM,UAA2B,IAAA,wNAAU,EAAC;AAG5C,MAAM,OAAa,IAAA,mMAAO,EAAC;AAG3B,MAAM,uBAAuB;IAClC,wCAAmC;QACjC,OAAO;IACT;;;AAYF;uCAEe"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nikhil/dev-enterprises/lib/firebase/auth.ts"],"sourcesContent":["import { \r\n  signInAnonymously, \r\n  onAuthStateChanged, \r\n  User,\r\n  Unsubscribe \r\n} from 'firebase/auth';\r\nimport { auth } from './config';\r\n\r\n/**\r\n * Initialize authentication - signs in anonymously so users can read from Firestore\r\n * Firestore rules require authentication, so we use anonymous auth for public product viewing\r\n */\r\nexport async function initializeAuth(): Promise<User | null> {\r\n  // Check if already authenticated\r\n  if (auth.currentUser) {\r\n    console.log('âœ… User already authenticated:', auth.currentUser.uid);\r\n    return auth.currentUser;\r\n  }\r\n\r\n  try {\r\n    console.log('ðŸ” Signing in anonymously for Firestore access...');\r\n    const userCredential = await signInAnonymously(auth);\r\n    console.log('âœ… Anonymous authentication successful:', userCredential.user.uid);\r\n    return userCredential.user;\r\n  } catch (error: any) {\r\n    console.error('âŒ Error signing in anonymously:', {\r\n      code: error?.code,\r\n      message: error?.message,\r\n      error\r\n    });\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get the current authenticated user\r\n */\r\nexport function getCurrentUser(): User | null {\r\n  return auth.currentUser;\r\n}\r\n\r\n/**\r\n * Check if user is authenticated\r\n */\r\nexport function isAuthenticated(): boolean {\r\n  return auth.currentUser !== null;\r\n}\r\n\r\n/**\r\n * Listen to auth state changes\r\n */\r\nexport function onAuthChange(callback: (user: User | null) => void): Unsubscribe {\r\n  return onAuthStateChanged(auth, callback);\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAMA;;;AAMO,eAAe;IACpB,iCAAiC;IACjC,IAAI,uJAAI,CAAC,WAAW,EAAE;QACpB,QAAQ,GAAG,CAAC,iCAAiC,uJAAI,CAAC,WAAW,CAAC,GAAG;QACjE,OAAO,uJAAI,CAAC,WAAW;IACzB;IAEA,IAAI;QACF,QAAQ,GAAG,CAAC;QACZ,MAAM,iBAAiB,MAAM,IAAA,6MAAiB,EAAC,uJAAI;QACnD,QAAQ,GAAG,CAAC,0CAA0C,eAAe,IAAI,CAAC,GAAG;QAC7E,OAAO,eAAe,IAAI;IAC5B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,mCAAmC;YAC/C,MAAM,OAAO;YACb,SAAS,OAAO;YAChB;QACF;QACA,OAAO;IACT;AACF;AAKO,SAAS;IACd,OAAO,uJAAI,CAAC,WAAW;AACzB;AAKO,SAAS;IACd,OAAO,uJAAI,CAAC,WAAW,KAAK;AAC9B;AAKO,SAAS,aAAa,QAAqC;IAChE,OAAO,IAAA,8MAAkB,EAAC,uJAAI,EAAE;AAClC"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nikhil/dev-enterprises/components/AuthProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { initializeAuth, onAuthChange } from '@/lib/firebase/auth';\r\nimport { User } from 'firebase/auth';\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Authentication provider that initializes anonymous authentication\r\n * This is required for Firestore access since the rules require authentication\r\n */\r\nexport default function AuthProvider({ children }: AuthProviderProps) {\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Initialize anonymous authentication\r\n    const initAuth = async () => {\r\n      try {\r\n        const authenticatedUser = await initializeAuth();\r\n        setUser(authenticatedUser);\r\n      } catch (error) {\r\n        console.error('Failed to initialize authentication:', error);\r\n      } finally {\r\n        setIsInitialized(true);\r\n      }\r\n    };\r\n\r\n    // Only initialize on client side\r\n    if (typeof window !== 'undefined') {\r\n      initAuth();\r\n\r\n      // Listen for auth state changes\r\n      const unsubscribe = onAuthChange((currentUser) => {\r\n        setUser(currentUser);\r\n        if (currentUser) {\r\n          console.log('Auth state changed - user authenticated:', currentUser.uid);\r\n        } else {\r\n          console.log('Auth state changed - user signed out');\r\n        }\r\n      });\r\n\r\n      return () => unsubscribe();\r\n    } else {\r\n      setIsInitialized(true);\r\n    }\r\n  }, []);\r\n\r\n  // Show loading state while initializing auth\r\n  if (!isInitialized && typeof window !== 'undefined') {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Initializing...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAce,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,uOAAQ,EAAC;IACnD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,uOAAQ,EAAc;IAE9C,IAAA,wOAAS,EAAC;QACR,sCAAsC;QACtC,MAAM,WAAW;YACf,IAAI;gBACF,MAAM,oBAAoB,MAAM,IAAA,+JAAc;gBAC9C,QAAQ;YACV,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wCAAwC;YACxD,SAAU;gBACR,iBAAiB;YACnB;QACF;QAEA,iCAAiC;QACjC;;aAcO;YACL,iBAAiB;QACnB;IACF,GAAG,EAAE;IAEL,6CAA6C;IAC7C;;IAWA,qBAAO;kBAAG;;AACZ"}}]
}